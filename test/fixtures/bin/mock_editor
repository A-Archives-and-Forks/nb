#!/usr/bin/env bash

# Allow clobber. More info:
# https://stackoverflow.com/a/6762399
set +o noclobber

# _mock_editor()
#
# Usage:
#   _mock_editor <path>
#
# Description:
#   Save a string as the only content in a new file named <path>.
_mock_editor() {
  local _path=

  for __arg in "${@:-}"
  do
    if [[ ! "${__arg}" =~ ^-- ]]
    then
      _path="${__arg}"
    fi
  done

  if [[ -z "${_path:-}"       ]]
  then
    printf "Usage: mock_editor <path>\\n"
    return 1
  fi

  if [[ -e "${_path:-}"       ]]
  then
    printf "[mock_editor] Already exists: %s\\n" "${_path:-}"
  fi

  printf "# mock_editor %s\\n" "${_path%.*}" >> "${_path:-}"
}

_mock_editor "$@"
